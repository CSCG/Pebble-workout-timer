<!--
    Pebble Workout timer. By Fernando Trujano
    trujano@mit.edu
    v2.0 Lets users see and edit workouts online.
-->

<html>
    <head>
        <title> Online Workout Manager </title>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.css" />
        <link rel="stylesheet" href="style.css" />
    </head>

    <body>
        <div data-role="page" id="main">

            <div data-role="content">
                <div class="error" id="update" hidden><strong> There is an update for this app available on the Pebble appstore. <a href="pebble://appstore/53b8f8d4c09b06bcc7000007"> Click here to update! </a>   </strong> </div>
                <h2>Manage Workouts <a href="#info" data-transition="flip"><button data-inline="true" data-mini="true" data-icon="info"> FAQ </button></a></h2>
                <div id="loading" class="info">Loading your workouts, please wait. </div>
                <div data-role="collapsibleset" data-content-theme="a" data-iconpos="left" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" id="workout-list">
                </div>
                <a href="#add"><button data-inline="true" data-mini="true" data-icon="plus"> Add Workout </button></a>
                <hr>
                <fieldset class="ui-grid-a">
                    <div class="ui-block-a" >  <a href="#" data-rel="back"><button id = "cancel-btn" data-theme="d" data-icon="delete" > Cancel </button> </a> </div>
                    <div class="ui-block-b" > <button id = "save-btn" class="ui-btn-active" data-icon="check"> Save</button>  </div>
                </fieldset>
                <div class="error" id="main-error" hidden> Please add at least one workout to save </div>
                <div class="success" id="success" hidden> Changes saved! Please open this on your phone (from the pebble app) and click save to appy changes on Pebble </div>
                <div class="info" id="bitly">Go to this link to make make changes from your computer! <br> <span id="bitly-link"></span>  </div>
            </div>

        </div>

        <!-- FAQ Page -->
        <div data-role="page" id="info">
            <div data-role="content">
                <h3> <a href="#main" data-transition="flip"><button data-inline="true" data-mini="true" data-icon="back"> Back</button></a> Frequently Asked Questions <small> Custom Workout Timer v2.0</small> </h1>
                <ul data-role="listview">
                    <li> How do I add a workout?
                        <p> On the Pebble app, find this app and click on the settings icon, then click on the "Add a workout button". Type in a workout title and add moves by using the sliders and textbox. You can add as many moves as you want.  When you are done, click on Add workout. Then click the blue "save" button. The workout should appear on your Pebble. </p>  </li>
                    <li> How do I delete a workout?
                        <p> Expand the workout you want to delete on the Online Workout Manager. Then click on the red "delete" button.  </p>  </li>
                    <li>  Can I add a move to an exisiting workout?
                        <p> Yes, after expanding the workout click on the add move button and fill in the info.</p>  </li>
                    <li>  Can I edit moves after I add them?
                        <p> Yes, after expanding the workout click on the move you'd like to edit. From there, you can change it's name, time or delete it. </p>  </li>
                    <li>  Phone keyboards suck, can I do all of this from my computer?
                        <p> Yes, you can manage all of your workouts from your computer! Go back to the main page, and there should be a link at the bottom. Go to this link on your computer, make the necesary changes and save. To apply the changes to the Pebble, simply go back to the workout manager from your phone and click save.  </p>  </li>
                    <li>  How do I pause/resume a timer?
                        <p> While a timer is running, simply press the middle button to pause or resume. </p>  </li>
                     <li> Can I suggest a new feature?
                        <p> Yes, please. That would be awesome. If you have any ideas to improve this app, or ideas for another app please email me at <a href="mailto:trujano.fernando@gmail.com?subject=App Suggestion"> trujano.fernando@gmail.com </a>  </p>  </li>
                    <li> Something went wrong!
                        <p> That is not a question. If you think you found a bug, please <a href="mailto:trujano.fernando@gmail.com?subject=Custom Workout Timer bug!"> email </a> me the details. Check below for known issues and how to fix them.   </p>  </li>
                    <li> Who are you?
                        <p> Hi, I am <a href="http://www.fernandotrujano.com"> Fernando Trujano </a>, a happy Pebble owner and college sophomore. If you like this app please give it a "heart" on the Pebble appstore.I smile everytime I see the count go up :)  </p>  </li>
                    <li> Can I buy you a beer?
                        <p> Not legally, at least not until next year. In the meantime if you would like to support my work you can donate using Paypal. </p>
                        <form style="text-align:center" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                            <input type="hidden" name="cmd" value="_s-xclick">
                            <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                            ">
                            <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                            <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                        </form>
                    </li>
                </ul>
                <hr>
                <h2> Known Issues </h2>
                <ul data-role="listview">
                    <li> Workout name changes to a number
                        <p><strong> Temporary Fix: </strong> Go to the workout manager and save your workouts back to Pebble. </p> </li>
                    <li> I'm stuck on the loading screen
                        <p><strong> Temporary Fix: </strong> Wait a couple of seconds and check that your Pebble is connected to the phone. </p> </li>
                </ul>
            </div>
        </div>

        <!-- Add workout page -->
        <div data-role="page" id="add">

            <div data-role="content">

                <h2>Add a custom timer </h2>

                <form id="settings">
                        <label for="title">  Workout Title:</label>       <input type="text" required name="title" id="title" data-clear-btn="true"> <br>
                        <hr>
                        <label for="move-name">Add Move: </label> <input type="text" id="move-name" data-clear-btn="true">
                        <label for="minute-slider" class="">Minutes</label>
                        <input type="range" name="minute-slider" id="minute-slider" data-highlight="true" min="0" max="15" value="0" step="1">
                        <label for="second-slider" class="">Seconds</label>
                        <input type="range" name="second-slider" id="second-slider" data-highlight="true" min="0" max="59" value="0" step="1">
                </form>

                <button  id="add-move" data-icon="plus"> Add Move</button> <br>
                <div class="error" id="error1" hidden>Please enter a move title and time</div>
                <hr>

                <fieldset class="ui-grid-a">
                    <div class="ui-block-a" > <div id="titletext"> </div>  </div>
                    <div class="ui-block-b" ><h3> <small class="totaltime" id="add-total-time"> </small> </h3>  </div>
                </fieldset>


                <ol id="move-list" data-role="listview"> </ol>
                <br>

                <fieldset class="ui-grid-a">
                    <div class="ui-block-a" > <a href="#main"> <button id = "add-workout-cancel-btn" data-theme="d" data-icon="delete"> Cancel </button> </a> </div>
                    <div class="ui-block-b" > <button id = "add-workout-save-btn" class="ui-btn-active" data-icon="check"> Save</button> </div>
                </fieldset>

                <div class="error" id="error-add-workout" hidden>Please enter a workout title and add at least one move</div>
            </div>
        </div> <!-- End Add workout page -->

        <!-- Edit Workout popup -->
        <div data-role="popup" id="edit-popup" data-theme="a" class="ui-corner-all ui-content">
            <h3> <span id="popup-text"> </span> <button id = "edit-delete-btn" data-icon="delete" data-inline="true" data-mini="true" class="delete"> Delete Move</button> </h3>
            <form>

                <label>Name</label>
                <input type="text" data-clear-btn="true" name="edit-title" id="edit-title" value="5">
                <label for="slider-2">Minutes</label>
                <input type="range"  class="slider" id="edit-minute-slider" data-highlight="true" min="0" max="60" value="5">
                <label for="slider-2">Seconds</label>
                <input type="range" class="slider" id="edit-second-slider" data-highlight="true" min="0" max="59" value="5">
            </form>

            <fieldset class="ui-grid-a">
                <div class="ui-block-a" >  <button id = "edit-cancel-btn" data-theme="d" data-icon="delete" > Cancel </button> </div>
                <div class="ui-block-b" > <button id = "edit-save-btn" class="ui-btn-active" data-icon="check"> Done</button>  </div>
            </fieldset>
            <div class = "error" id="popup-error" hidden> Please enter a valid title and time </div>
        </div> <!-- End Edit Workout Popup -->

    </body>

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.js"></script>

    <script src="add-workout.js"></script>
    <script src="edit-workout.js"></script>
    <script src="main.js"></script>

</html>
